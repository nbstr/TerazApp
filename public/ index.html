<!DOCTYPE html> 
<html> 
<head> 
	<title>Page Title</title> 
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"> 
	<meta charset="utf-8"/>


	<!-- JQUERY -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0-beta.1/jquery.mobile-1.3.0-beta.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.0-beta.1/jquery.mobile-1.3.0-beta.1.min.js"></script>
	<script src="lib/jquery.plugin.pullToRefresh.js"></script>
	<!--ANGULAR-->
	<script type="text/javascript" src="lib/angular.min.js"></script>
		<script type="text/javascript" src="scripts/app.js"></script>
	
	<link rel="stylesheet" type="text/css" href="css/topcoat-mobile-light.css"/>
    <link rel="stylesheet" type="text/css" href="css/styles.css"/>
</head> 

<body style="background-color:#F5F5F5;" ng-app="terrAps"> 

	<!-- List of Teraz -->
	<div data-role="page" id="list">
		
		<!--<div id="landing-page">
		</div>-->
		
		<div class="app-header">
			<a class="left-menu" href="#new-teraz" data-transition="slidedown"></a>
			<h1>TerazApp</h1>
			<a class="right-menu" href="#settings" data-transition="slidedown"></a>
			<div class="info-ter">
			</div>
		</div>
		

		<div data-role="content" ng-controller="terraceCtrl as terrace">
			<div class="scrollable">
			    <div class="wrap">
			        <ul class="list">
			        	<li class="topcoat-list__item" ng-repeat="location in terrace.terraces">
				        	<h1>{{location.name}}</h1>
				        	<div class="street" ng-show="location.address" >{{location.address.number}},{{location.address.street}}</div>
				        	<div class="seats" ng-show="location.sits" >{{location.sits}}</div>
				        	<div class="schedule" ng-show="location.sun_start && location.sun_end">{{location.sun_start}}h-{{location.sun_end}}h</div>
				        	<a href="#map" data-transition="slide" data-role="none">200<span class="light_text">m</span></a>
			        	</li>
			        	<!-- content -->
			        </ul>
			    </div>
			</div>
		</div>
		
		<div class="meteo" ng-controller="">
			<ul>
				<li>Maint.</li>
				<li class="cloud icon-weather"></li>
				<li>14&deg;</li>
			</ul>
			<ul>
				<li>14h</li>
				<li class="cloudy icon-weather"></li>
				<li>16&deg;</li>
			</ul>
			<ul>
				<li>15h</li>
				<li class="sun icon-weather"></li>
				<li>16&deg;</li>
			</ul>
			<ul>
				<li>16h</li>
				<li class="sun icon-weather"></li>
				<li>18&deg;</li>
			</ul>
		</div>
		
	</div>
	<!-- List of Teraz -->



	<!-- Google Map -->
	<div data-role="page" id="map">

		<div data-role="header">
			<h1>TerazApp</h1>
		</div>

		<div data-role="content">	
			<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.</p>		
			<p><a href="#list" data-transition="slide" data-direction="reverse">Back to List</a></p>	
		</div>

	</div>
	<!-- Google Map -->



	<!-- Settings -->
	<div data-role="page" id="settings">

		<div class="app-header">
			<a class="left-menu back" href="#list" data-transition="slidedown" data-direction="reverse"></a>
			<h1>Settings</h1>
			<a class="right-menu save" href="#settings" data-transition="slidedown"></a>
		</div>

		<div data-role="content">
			
		
				<form method="post" action="#">
					<label for="distance">Distance de recherche</label>
					<input type="range" name="distance" id="distance" value="10" min="100" max="100"/>	
				</form>
		
			<ul>
				<li><a href="#" data-role="none">Crédits</a></li>
				<li><a href="#" data-role="none">Conditions Générales</a></li>
			</ul>
		</div>

	</div>
	<!-- Settings -->

	<!-- New -->

	<div data-role="page" id="new-teraz">

		<div class="app-header">
			<a class="left-menu back" href="#list" data-transition="slidedown" data-direction="reverse"></a>
			<h1>Add Teraz</h1>
			<a class="right-menu save" href="#settings" data-transition="slidedown"></a>
		</div>

		<div data-role="content">	
			
			<form method="post" action="#">
				<label for="terrace_name"><input type="text" name="terrace_name" placeholder="Nom de la terrasse" id="terrace_name" data-role="none"/></label>
				<label for="adress"><input type="text" name="adress" placeholder="Adresse complète" id="adress" data-role="none"/></label>
				<label for="seats"><input type="text" name="seats" placeholder="places assises" id="seats" data-role="none"/></label>
				
				<fieldset>
					
					<legend>Heures d'ensoleillement</legend>
					
					<div id="suntime">
						<label for="min">
							<input class="small_input" type="text" placeholder="00" id="min" name="min" data-role="none"/>
						 h à</label>
						<label for="max">
							<input class="small_input" id="max" placeholder="00" type="text" name="max" data-role="none"/> 
						 h
						</label>
					</div>
					
				</fieldset>
				
			</form>
			
		</div>

	</div>
	<!-- New -->


	<script>
		(function () {

		    var $list = $('.list'),
		            itemCount = 0;

		    // Add x dummy items to the list
		    function addItems(x) {
		        for (var i = 0; i < x; i++) {
		            itemCount++;
		            $list.prepend('<li class="topcoat-list__item">Item ' + itemCount + '<br><br><a href="#map" data-role="none" data-transition="slide">Google Maps</a></li>');
		        }
		    }
	
			$(".info-ter").append("<p>"+"<strong>"+itemCount+"</srtong>"+" terrasses sont ensoleillées pour l'instant."+"</p>");

		    $('.scrollable').pullToRefresh({
		        callback: function () {
		            var deferred = $.Deferred();

		            setTimeout(function () {
		                // Simulate a refresh: add 3 items to the list
		                addItems(3);
		                deferred.resolve();
		            }, 2000);

		            return deferred.promise();
		        }
		    });

		//  Example of a typical use of pull-to-refresh where an ajax call is made to get the latest items
		//        $('.scrollable').pullToRefresh({
		//            callback: function () {
		//                var promise = $.ajax({url: "http://myserver.com/myendpoint", dataType: "json", type: "GET"}).done(function (data) {
		//                    // Add new items to the list
		//                });
		//                return promise;
		//            }
		//        });

		    // Populate the list with 20 items at startup
		    addItems(0);

		}());
	</script>
</body>
</html>