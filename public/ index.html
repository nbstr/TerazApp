<!DOCTYPE html> 
<html> 
<head> 
	<title>Page Title</title> 
	
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"> 

	

	<!-- JQUERY -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0-beta.1/jquery.mobile-1.3.0-beta.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.0-beta.1/jquery.mobile-1.3.0-beta.1.min.js"></script>

	<script src="lib/jquery.plugin.pullToRefresh.js"></script>
	
	<link rel="stylesheet" type="text/css" href="css/topcoat-mobile-light.css"/>
    <link rel="stylesheet" type="text/css" href="css/styles.css"/>
</head> 

<body style="background-color:#F5F5F5;"> 

	<!-- List of Teraz -->
	<div data-role="page" id="list">
		
		<div id="landing-page">
		</div>
		
		<div class="app-header">
			<a class="left-menu" href="#new-teraz" data-transition="slidedown"></a>
			<h1>TerazApp</h1>
			<a class="right-menu" href="#settings" data-transition="slidedown"></a>
			<div class="info-ter">
			</div>
		</div>
		

		<div data-role="content">
			<div class="scrollable">
			    <div class="wrap">
			        <ul class="list">
			        	<li class="topcoat-list__item">
				        	<h1>Red Monkeys</h1>
				        	<div class="street"><i></i>11, Place du Chatelain</div>
				        	<div class="seats"><i></i>32</div>
				        	<div class="schedule"><i></i>14h-18h</div>
				        	<a href="#map" data-transition="slide">200m <i></i></a>
			        	</li>
			        	<!-- content -->
			        </ul>
			    </div>
			</div>
		</div>
		
		<div class="meteo">
			<ul>
				<li>Maint.</li>
				<li class="cloud icon-weather"></li>
				<li>14&deg;</li>
			</ul>
			<ul>
				<li>14h</li>
				<li class="cloudy icon-weather"></li>
				<li>16&deg;</li>
			</ul>
			<ul>
				<li>15h</li>
				<li class="sun icon-weather"></li>
				<li>16&deg;</li>
			</ul>
			<ul>
				<li>16h</li>
				<li class="sun icon-weather"></li>
				<li>18&deg;</li>
			</ul>
		</div>
		
	</div>
	<!-- List of Teraz -->



	<!-- Google Map -->
	<div data-role="page" id="map">

		<div data-role="header">
			<h1>TerazApp</h1>
		</div>

		<div data-role="content">	
			<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.</p>		
			<p><a href="#list" data-transition="slide" data-direction="reverse">Back to List</a></p>	
		</div>

	</div>
	<!-- Google Map -->



	<!-- Settings -->
	<div data-role="page" id="settings">

		<div class="app-header">
			<a class="left-menu" href="#list" data-transition="slidedown" data-direction="reverse"></a>
			<h1>Settings</h1>
		</div>

		<div data-role="content">
			
		
				<form method="post" action="#">
					<label for="distance">Distance de recherche</label>
					<input type="range" name="distance" id="distance" value="10" min="100" max="100"/>	
				</form>
		
			<ul>
				<li><a href="#">Crédits</a></li>
				<li><a href="#">Conditions Générales</a></li>
			</ul>
		</div>

	</div>
	<!-- Settings -->

	<!-- New -->
	<div data-role="page" id="new-teraz">

		<div class="app-header">
			<a class="left-menu" href="#list" data-transition="slidedown" data-direction="reverse"></a>
			<h1>Add Teraz</h1>
		</div>

		<div data-role="content">	
			
			<form method="post" action="#">
				<label for="terrace_name"><input type="text" name="terrace_name" placeholder="Nom de la terrasse" id="terrace_name" data-role="none"/></label>
				<label for="adress"><input type="text" name="adress" placeholder="Adresse complète" id="adress" data-role="none"/></label>
				<label for="seats"><input type="text" name="seats" placeholder="places assises" id="seats" data-role="none"/></label>
				
				<fieldset>
					
					<legend>Heures d'ensoleillement</legend>
					
					<label for="min">
						<input id="min" name="min" data-role="none"/>
					 Min</label>
					<label for="max">
					<input id="max" name="max" data-role="none"/> 
					 Max
					</label>
					
				</fieldset>
				
			</form>
			
		</div>

	</div>
	<!-- New -->


	<script>
		(function () {

		    var $list = $('.list'),
		            itemCount = 0;

		    // Add x dummy items to the list
		    function addItems(x) {
		        for (var i = 0; i < x; i++) {
		            itemCount++;
		            $list.prepend('<li class="topcoat-list__item">Item ' + itemCount + '<br><br><a href="#map" data-transition="slide">Google Maps</a></li>');
		        }
		    }
	
			$(".info-ter").append("<p>"+"<strong>"+itemCount+"</srtong>"+" terrasses sont ensoleillées pour l'instant."+"</p>");

		    $('.scrollable').pullToRefresh({
		        callback: function () {
		            var deferred = $.Deferred();

		            setTimeout(function () {
		                // Simulate a refresh: add 3 items to the list
		                addItems(3);
		                deferred.resolve();
		            }, 2000);

		            return deferred.promise();
		        }
		    });

		//  Example of a typical use of pull-to-refresh where an ajax call is made to get the latest items
		//        $('.scrollable').pullToRefresh({
		//            callback: function () {
		//                var promise = $.ajax({url: "http://myserver.com/myendpoint", dataType: "json", type: "GET"}).done(function (data) {
		//                    // Add new items to the list
		//                });
		//                return promise;
		//            }
		//        });

		    // Populate the list with 20 items at startup
		    addItems(2);

		}());
	</script>
</body>
</html>